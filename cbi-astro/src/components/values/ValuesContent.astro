---
import "swiper/css"
import "swiper/css/navigation"
import SliderArrow from "../common/SliderArrow.astro"
import { values } from "../../constants"

type Value = {
  id: number
  number: string
  title: string
  description: string
  svg: string
}
---

<section id="values" class="py-16 bg-gray-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h1 class="text-5xl font-bold text-gray-900">Nuestros Valores</h1>
      <!-- ESTO ES EN QUE CREEMOS SHOULD GO IN THE NOSOTORS -->
      <p class="mt-2 text-lg text-gray-600 max-w-2xl mx-auto">
        Quienes somos y lo que hacemos, nuestro ADN.
      </p>
    </div>

    <div class="values-swiper-container relative">
      <div class="swiper values-swiper px-4">
        <div class="swiper-wrapper">
          {
            values.map((value: Value) => (
              <div class="swiper-slide">
                <div class="rounded-2xl p-6 h-full flex flex-col relative">
                  <div
                    class="w-32 h-32 mb-6 text-primary absolute top-0 right-2"
                    set:html={value.svg}
                  />
                  <div class="flex-1 mt-14">
                    <span
                      class="text-7xl font-bold text-primary/20 leading-none"
                      style="-webkit-text-stroke: 1px #009C3F; -webkit-text-fill-color: transparent;">
                      {value.number}
                    </span>
                    <h2 class="text-2xl font-bold text-gray-900 mt-2">
                      {value.title}
                    </h2>
                    <p class="text-gray-600 mt-3 text-md leading-relaxed">
                      {value.description}
                    </p>
                  </div>
                </div>
              </div>
            ))
          }
        </div>
      </div>

      <div class="flex justify-center gap-4 mt-2">
        <SliderArrow
          direction="prev"
          class="values-swiper-prev border border-primary"
        />
        <SliderArrow
          direction="next"
          class="values-swiper-next border border-primary"
        />
      </div>
    </div>

    <div class="mt-12 text-center">
      <a
        href="/nosotros"
        class="inline-block bg-primary text-white px-6 py-3 rounded-md font-medium hover:bg-primary/90">
        Conoce MÃ¡s Sobre Nosotros
      </a>
    </div>
  </div>
</section>

<style>
  .values-swiper-container {
    position: relative;
  }

  .values-swiper {
    overflow: hidden;
  }

  .values-swiper .swiper-slide {
    height: auto;
  }
</style>

<script>
  import Swiper from "swiper"
  import { Navigation } from "swiper/modules"

  document.addEventListener("DOMContentLoaded", () => {
    new Swiper(".values-swiper", {
      modules: [Navigation],
      slidesPerView: 1,
      spaceBetween: 42,
      autoplay: false,
      navigation: {
        prevEl: ".values-swiper-prev",
        nextEl: ".values-swiper-next",
      },
      breakpoints: {
        640: {
          slidesPerView: 2,
        },
        1024: {
          slidesPerView: 3,
        },
      },
    })
  })
</script>
