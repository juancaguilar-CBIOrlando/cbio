---
interface Props {
    text: string
    bgColor?: string
    speed?: string
    repeat?: number
    separator?: string
}

const {
    text,
    bgColor = "bg-primary",
    speed = "25s",
    repeat = 8,
    separator = "âœ¦",
} = Astro.props
---

<section class={`${bgColor} py-4 overflow-hidden`}>
    <div class="marquee-container">
        <div class="marquee-content" style={`--marquee-speed: ${speed};`}>
            {
                Array(repeat)
                    .fill(null)
                    .map(() => (
                        <span class="marquee-item text-white font-bold text-lg uppercase tracking-wider">
                            {text}
                            <span class="mx-6 text-white/50">{separator}</span>
                        </span>
                    ))
            }
        </div>
    </div>
</section>

<style>
    .marquee-container {
        overflow: hidden;
        white-space: nowrap;
    }

    .marquee-content {
        display: inline-flex;
        animation: marquee var(--marquee-speed, 25s) linear infinite;
    }

    .marquee-item {
        display: inline-flex;
        align-items: center;
    }

    @keyframes marquee {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-50%);
        }
    }
</style>
