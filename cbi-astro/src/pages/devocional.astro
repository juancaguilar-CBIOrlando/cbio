---
// src/pages/devocional.astro
import Layout from "../layouts/Layout.astro"
import ArrowRightIcon from "../components/icons/ArrowRightIcon.astro"
import OpenBookIcon from "../components/icons/OpenBookIcon.astro"
import { getTodaysDevotional } from "../helpers/notion"

//gets devotionals from notion based on today's date
const devotional = await getTodaysDevotional()

const { title, content, explanation, verse, assets, date } = devotional || {}
---

<Layout title={title}>
  <div class="container mx-auto px-4 py-8">
    <article class="max-w-3xl mx-auto">
      <!-- Header -->
      <header class="mb-8">
        <div class="flex items-center gap-4 mb-4">
          <div class="bg-blue-800 rounded-full p-4">
            <OpenBookIcon size={28} color="white" />
          </div>
          <h1 class="text-3xl font-bold text-gray-900" set:html={title} />
        </div>
        <p class="text-gray-500 capitalize">
          {date}
        </p>
      </header>

      <div class="flex flex-col gap-y-2">
        <!-- Verse -->
        <div class="prose prose-lg font-bold capitalize" set:html={verse} />
        <br />
        <!-- Content -->
        <div class="prose prose-lg" set:html={content} />

        <!-- Explanation -->
        <div class="prose prose-lg mt-2">
          <p class="text-gray-700 capitalize">Estimado lector:</p>
          <div class="prose prose-lg" set:html={explanation} />
        </div>
      </div>

      <!-- Assets -->
      <!-- Navigation -->
      <!-- <div class="mt-12 flex justify-between items-center">
        <a href="/" class="inline-flex items-center text-blue-800 hover:text-blue-600">
          <ArrowRightIcon size={16} class="mr-2 rotate-180" />
          Volver al inicio
        </a>
      </div> -->
    </article>
  </div>
</Layout>
